import funkin.play.character.MultiSparrowCharacter;
import funkin.play.PlayState;
import funkin.graphics.FunkinSprite;

class FloraPixelThornsCharacter extends MultiSparrowCharacter {
	function new() {
		super('flora-pixel-thorns');
	}

	var flora;
	var refershedLol:Bool = false;


	function onCreate(event:ScriptEvent) {
		super.onCreate(event);



		flora = new FunkinSprite(0, 0).loadSparrow('characters/flora/FloraPixelThorns');
		flora.animation.addByPrefix('idle','lights',12,false);
		flora.animation.play('idle'); flora.animation.curAnim.finish();
		PlayState.instance.currentStage.add(flora);
	}

	override function dance(force){
		if(flora != null)
			flora.animation.play('idle',false);
			 super.dance(force);
	}



	function onUpdate(event:UpdateScriptEvent) {
		super.onUpdate(event);
		if (!refershedLol)
		{

			flora.zIndex = this.zIndex + 1;
			flora.scale.set(6, 6);
			flora.antialiasing = false;
			flora.x = this.x + 325;
			flora.y = this.y + 260;

			PlayState.instance.currentStage.add(flora);
			PlayState.instance.currentStage.refresh();
			refershedLol = true;
		}
	}

		


	
}